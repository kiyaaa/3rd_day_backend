# 🌐 웹 브라우저 4창 테스트 가이드

## 📦 준비사항

### 1. 서버 시작
```bash
cd /data/data/com.termux/files/home/prj/3rd_day_backend
node src/server.js
```

### 2. 정적 파일 서버 시작
별도 터미널에서:
```bash
cd /data/data/com.termux/files/home/prj/3rd_day_backend/web-clients
python3 -m http.server 8000
# 또는
npx http-server -p 8000
```

## 🔧 브라우저 설정

### 1. 창 크기 조절
- 각 브라우저 창의 너비를 **400px** 정도로 조절
- 세로로 긴 메신저 형태로 만들기
- Windows: Win + ←/→ 키로 화면 분할
- Mac: 수동으로 창 크기 조절

### 2. 창 배치 예시
```
┌─────────────┬─────────────┬─────────────┬─────────────┐
│  Alex Kim   │ Sarah Lee   │  Mike Park  │   Server    │
│ (질문자)    │ (전문가)    │ (전문가)    │  Monitor    │
└─────────────┴─────────────┴─────────────┴─────────────┘
```

## 🚀 실행 순서

### Step 1: 각 브라우저 창 열기

1. **첫 번째 창 - Alex (질문자)**
   ```
   http://localhost:8000/alex.html
   ```

2. **두 번째 창 - Sarah (React 전문가)**
   ```
   http://localhost:8000/sarah.html
   ```

3. **세 번째 창 - Mike (Node.js 전문가)**
   ```
   http://localhost:8000/mike.html
   ```

4. **네 번째 창 - 서버 모니터 (선택사항)**
   ```
   http://localhost:8000/server-monitor.html
   ```

### Step 2: 자동 로그인 확인
- 각 창이 열리면 자동으로 로그인됨
- 상단에 "연결됨" 표시 확인

### Step 3: 시나리오 진행

#### 1️⃣ Alex가 질문 등록 (Alex 창에서)
- 질문 폼이 이미 채워져 있음
- **"질문 등록" 버튼 클릭**
- 약 2초 후 "AI가 전문가를 매칭했습니다!" 메시지 표시
- 약 5초 후 "채팅방 생성하기" 버튼 표시

#### 2️⃣ 전문가들에게 알림 (Sarah, Mike 창)
- 두 전문가 창에 노란색 알림박스 표시
- 질문 내용 확인 가능
- **"수락" 버튼 클릭** (두 전문가 모두)

#### 3️⃣ 채팅방 생성 (Alex 창에서)
- **"채팅방 생성하기" 버튼 클릭**
- 채팅방 ID 표시됨
- Alex는 자동으로 입장

#### 4️⃣ 전문가들 입장 (Sarah, Mike 창)
- 각 창에 "채팅방 입장하기" 버튼 표시
- **버튼 클릭하여 입장**

#### 5️⃣ 실시간 대화
각 창의 하단 입력 필드에서 메시지 입력:

**Alex:** 
```
안녕하세요! useEffect 무한 루프 문제로 도움이 필요합니다.
```

**Sarah:**
```
안녕하세요! 코드를 보여주실 수 있나요?
```

**Alex:**
```
useEffect(() => { setCount(count + 1); }, [count]);
```

**Sarah:**
```
문제를 찾았습니다! dependency array에 count가 있어서 무한 루프가 발생하네요.
```

**Mike:**
```
맞습니다. count가 변경될 때마다 useEffect가 실행되고, 또 count를 변경하니 무한 반복이죠.
```

**Sarah:**
```
해결 방법: 1) 빈 배열 사용 [], 2) 함수형 업데이트 setCount(prev => prev + 1)
```

**Alex:**
```
아하! 이해했습니다. 감사합니다! 👍
```

## 👁️ 확인사항

### 실시간 기능
- 한 창에서 메시지 입력 시 다른 창에 즉시 표시
- 각 메시지에 시간 표시
- 사용자 입장/퇴장 시스템 메시지

### UI 요소
- 본인 메시지: 오른쪽 정렬, 연두색 배경
- 받은 메시지: 왼쪽 정렬, 흰색 배경
- 시스템 메시지: 가운데 정렬, 회색 배경

### 서버 모니터 (선택사항)
- 실시간 사용자 연결 상태
- 활성 채팅방 수
- 전체 메시지 카운트
- 대기 중인 질문 수

## 🔄 다시 시작하기

테스트를 다시 시작하려면:
1. 모든 브라우저 창 새로고침 (F5 또는 Ctrl+R)
2. 각 창이 다시 자동 로그인됨
3. 위 순서대로 다시 진행

## 🎆 팁

- **크롬 개발자 도구**: F12로 콘솔 확인 가능
- **모바일 모드**: 개발자 도구에서 모바일 뷰로 전환 가능
- **다중 프로필**: 크롬 프로필을 다르게 하여 세션 분리

이제 메신저 스타일로 4개의 창을 뜨워서 실시간 채팅 데모를 체험할 수 있습니다!